<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model · MonteCarlo.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="MonteCarlo.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">MonteCarlo.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">DQMC</span><ul><li><a class="tocitem" href="../Introduction/">Introduction</a></li><li class="is-active"><a class="tocitem" href>Model</a><ul class="internal"><li><a class="tocitem" href="#Hubbard-Model-1"><span>Hubbard Model</span></a></li><li><a class="tocitem" href="#Creating-your-own-Model-1"><span>Creating your own Model</span></a></li></ul></li><li><a class="tocitem" href="../lattice/">Lattices</a></li><li><a class="tocitem" href="../fields/">Fields</a></li><li><a class="tocitem" href="../dqmc/">DQMC</a></li><li><a class="tocitem" href="../recorder/">Configuration Recorder</a></li><li><a class="tocitem" href="../scheduler/">Update Scheduler</a></li><li><a class="tocitem" href="../measurements/">Measurements</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/triangular_Hubbard/">Triangular Attractive Hubbard</a></li><li><a class="tocitem" href="../../examples/ALF1/">Crosscheck with ALF</a></li><li><a class="tocitem" href="../../examples/HofmannBergChowdhury/">Topological Flat Band Model</a></li></ul></li><li><span class="tocitem">Legacy</span><ul><li><a class="tocitem" href="../../legacy/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../legacy/manual/gettingstarted/">Getting started</a></li><li><a class="tocitem" href="../../legacy/manual/showcase/">Showcase</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Physical models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../legacy/models/ising/">Ising model</a></li><li><a class="tocitem" href="../../legacy/models/hubbardattractive/">Attractive Hubbard model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Monte Carlo flavors</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../legacy/flavors/mc/">MC</a></li><li><a class="tocitem" href="../../legacy/flavors/dqmc/">DQMC</a></li></ul></li><li><a class="tocitem" href="../../legacy/lattices/">Lattices</a></li><li><a class="tocitem" href="../../legacy/customize/">Customize</a></li><li><input class="collapse-toggle" id="menuitem-4-7" type="checkbox"/><label class="tocitem" for="menuitem-4-7"><span class="docs-label">Interfaces</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../legacy/interfaces/MC/">MC</a></li><li><a class="tocitem" href="../../legacy/interfaces/DQMC/">DQMC</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-8" type="checkbox"/><label class="tocitem" for="menuitem-4-8"><span class="docs-label">General exports</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../legacy/methods/general/">General</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">DQMC</a></li><li class="is-active"><a href>Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/carstenbauer/MonteCarlo.jl/blob/master/docs/src/DQMC/model.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Models-1"><a class="docs-heading-anchor" href="#Models-1">Models</a><a class="docs-heading-anchor-permalink" href="#Models-1" title="Permalink"></a></h1><p>In MonteCarlo.jl a <code>Model</code> describes a Hamiltonian. It&#39;s primary purpose is to collect paramaters from different terms in the Hamiltonian as well as the lattice and generate a hopping matrix for the simulation. We currently provide one model - the Hubbard model.</p><h2 id="Hubbard-Model-1"><a class="docs-heading-anchor" href="#Hubbard-Model-1">Hubbard Model</a><a class="docs-heading-anchor-permalink" href="#Hubbard-Model-1" title="Permalink"></a></h2><p>The  Hubbard model is given by</p><div>\[\mathcal{H} = -t \sum_{\langle i,j \rangle, \sigma} \left( c^\dagger_{i\sigma} c_{j\sigma} + \text{h.c.} \right) - U \sum_j \left( n_{j\uparrow} - \frac{1}{2} \right) \left( n_{j\downarrow} - \frac{1}{2} \right) - \mu\sum_j n_{j},\]</div><p>where <span>$\sigma$</span> denotes spin, <span>$t$</span> is the hopping amplitude, <span>$U$</span> the on-site Hubbard interaction strength, <span>$\mu$</span> the chemical potential and <span>$\langle i, j \rangle$</span> indicates that the sum has to be taken over nearest neighbors. Note that the Hamiltonian is written in particle-hole symmetric form such that <span>$\mu = 0$</span> corresponds to half-filling.</p><p>Our implementation allows for both attractive (positive) and repulsive (negative) <span>$U$</span>. Note that for the repulsive case there is a sign problem for <span>$\mu \ne 0$</span>. The model also works with any lattice, assuming that lattice provides the required functionality. </p><p>You can create a Hubbard model with <code>HubbardModel()</code>. Optional keyword arguments include:</p><ul><li><code>l::AbstractLattice = choose_lattice(HubbardModel, dims, L)</code> is the lattice used by the model. </li><li><code>dims::Integer = 2</code> is the dimensionality of the default lattice (Chain/Square/Cubic)</li><li><code>L::Integer = 2</code> is the linear system size of the default lattice (Chain/Square/Cubic)</li><li><code>t::Float64 = 1.0</code> is the hopping strength.</li><li><code>mu::Float64 = 0.0</code> is the chemical potential. (Must be 0 if U is negative.)</li><li><code>U::Float64 = 1.0</code> is the interaction strength.</li></ul><h2 id="Creating-your-own-Model-1"><a class="docs-heading-anchor" href="#Creating-your-own-Model-1">Creating your own Model</a><a class="docs-heading-anchor-permalink" href="#Creating-your-own-Model-1" title="Permalink"></a></h2><p>To create your own model you will need to inherit from the abstract type <code>Model</code>. There is a set of mandatory and optional methods you must/can implement:</p><h4 id="Mandatory-Methods-1"><a class="docs-heading-anchor" href="#Mandatory-Methods-1">Mandatory Methods</a><a class="docs-heading-anchor-permalink" href="#Mandatory-Methods-1" title="Permalink"></a></h4><p>A custom model needs to implement these methods to function</p><ul><li><code>lattice(model)</code> needs to return a MonteCarlo compatible lattice</li><li><code>nflavors(model)</code> needs to return the number of unique fermion flavors of the hopping matrix. For example, in a two spin model this would return 2 if the hopping matrix is different between spin up and down, or 1 if one sector is a copy of the other. Internally this is used together with <code>nflavors(field)</code> to optimize spin/flavor symmetric systems.</li><li><code>hopping_matrix(model)</code> needs to generate the hopping matrix, which includes all quadratic terms. (I.e. also the chemical potential.) The hopping matrix should only include as many flavors as necessary. If the hopping matrix contains two copies of the same matrix, one for spin up and one for spin down for example, then it should only return one of these. Expanding it to an appropriate size is handled internally.</li></ul><h4 id="(Semi-)-Optional-Methods-1"><a class="docs-heading-anchor" href="#(Semi-)-Optional-Methods-1">(Semi-) Optional Methods</a><a class="docs-heading-anchor-permalink" href="#(Semi-)-Optional-Methods-1" title="Permalink"></a></h4><p>These methods aren&#39;t strictly necessary to implement, but may boost performance when implemented. It is recommended to provide these if the defaults do not apply.</p><ul><li><code>save_model(file::JLDFile, model, entryname)</code> should write model information to the given file. It should also save the lattice via <code>save_lattice</code> and save a unqiue <code>tag</code>. If this is not implemented JLD2 will be asked to save the type as is, which makes it hard to load data when the model type is edited.</li><li><code>_load_model(data, ::Val{Symbol(tag)})</code> loads a model from <code>data</code>, which typically is a JLDFile. Note that saved tag is used to dispatch to the correct method.</li><li><code>intE_kernel(mc, model, G, ::Val{flv})</code> should be implemented to enable measurements of the energy from the interactive term as well as the total energy. </li><li><code>choose_field(model)</code> returns the default field type for a given model. If this is not implemented a field must be passed to <code>DQMC</code>.</li></ul><h4 id="Optional-Methods-1"><a class="docs-heading-anchor" href="#Optional-Methods-1">Optional Methods</a><a class="docs-heading-anchor-permalink" href="#Optional-Methods-1" title="Permalink"></a></h4><ul><li><code>hopping_eltype(model) = eltype(hopping_matrix(model))</code> returns the element type of the hopping matrix.</li><li><code>hopping_matrix_type(field, model) = typeof(pad_to_nflavors(field, model, hopping_matrix(model)))</code> return the matrix type of the hopping matrix.</li><li><code>greens_eltype(field, model) = generalized_eltype(interaction_eltype(field), hopping_eltype(model))</code> returns the element type of the greens function. This must be compatible with element types of the hopping matrix and the interaction matrix.</li><li><code>greens_matrix_type(field, model) = Matrix{greens_eltype(field, model)}</code> returns the full type of the greens function. This must be compatible with both the type of the hopping matrix and the interaction matrix.</li><li><code>parameters(m::Model)</code> should collect the parameters from the model and lattice in a NamedTuple.</li></ul><p>Also note that you may need to update the measurement kernels. More information about that on the measurement page.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Introduction/">« Introduction</a><a class="docs-footer-nextpage" href="../lattice/">Lattices »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 6 July 2022 21:11">Wednesday 6 July 2022</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
